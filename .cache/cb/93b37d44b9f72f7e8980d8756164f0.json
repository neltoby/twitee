{"id":"OvLR","dependencies":[{"name":"C:\\Users\\TOBENNA\\ParcelTut\\tutorial\\node_modules\\@sentry\\tracing\\esm\\integrations\\express.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\TOBENNA\\ParcelTut\\tutorial\\package.json","includedInParent":true,"mtime":1604161791190},{"name":"C:\\Users\\TOBENNA\\ParcelTut\\tutorial\\node_modules\\@sentry\\tracing\\package.json","includedInParent":true,"mtime":1604161789526},{"name":"@sentry/utils","loc":{"line":1,"column":23},"parent":"C:\\Users\\TOBENNA\\ParcelTut\\tutorial\\node_modules\\@sentry\\tracing\\esm\\integrations\\express.js","resolved":"C:\\Users\\TOBENNA\\ParcelTut\\tutorial\\node_modules\\@sentry\\utils\\esm\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Express=void 0;var t=require(\"@sentry/utils\"),n=function(){function n(t){void 0===t&&(t={}),this.name=n.id,this._app=t.app,this._methods=t.methods}return n.prototype.setupOnce=function(){this._app?(s(this._app),o(this._app,this._methods)):t.logger.error(\"ExpressIntegration is missing an Express instance\")},n.id=\"Express\",n}();function r(t){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var e=i.startChild({description:t.name,op:\"middleware\"});r.once(\"finish\",function(){e.finish()})}return t.apply(this,arguments)};case 3:return function(n,r,i){var e=r.__sentry_transaction,s=e&&e.startChild({description:t.name,op:\"middleware\"});t.call(this,n,r,function(){return s&&s.finish(),i.apply(this,arguments)})};case 4:return function(n,r,i,e){var s=i.__sentry_transaction,o=s&&s.startChild({description:t.name,op:\"middleware\"});t.call(this,n,r,i,function(){return o&&o.finish(),e.apply(this,arguments)})};default:throw new Error(\"Express middleware takes 2-4 arguments. Got: \"+n)}}function i(t){return Array.from(t).map(function(t){return\"function\"==typeof t?r(t):Array.isArray(t)?t.map(function(t){return\"function\"==typeof t?r(t):t}):t})}function e(t,n){var r=t[n];return t[n]=function(){return r.apply(this,i(arguments))},t}function s(t){e(t,\"use\")}function o(t,n){void 0===n&&(n=[]),n.forEach(function(n){e(t,n)})}exports.Express=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":89}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":91}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":122}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":124}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":1,"column":135}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":1,"column":144}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":146}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":154}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":158}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":162}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":164}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":168}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":173}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":67,"column":24},"generated":{"line":1,"column":178}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":67,"column":32},"generated":{"line":1,"column":180}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":183}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":188}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":193}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":195}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":199}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":204}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":1,"column":213}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":80,"column":28},"generated":{"line":1,"column":215}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":230}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":232}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":242}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":252}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":263}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":1,"column":268}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":1,"column":274}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":91,"column":26},"generated":{"line":1,"column":276}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":91,"column":31},"generated":{"line":1,"column":281}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":92,"column":4},"generated":{"line":1,"column":287}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":1,"column":289}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":92,"column":26},"generated":{"line":1,"column":294}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":92,"column":32},"generated":{"line":1,"column":299}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":92,"column":37},"generated":{"line":1,"column":304}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":315}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":317}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":324}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":1,"column":330}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":384}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":386}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":62,"column":29},"generated":{"line":1,"column":389}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":399}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":401}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":109,"column":0},"generated":{"line":1,"column":404}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":413}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":109,"column":14},"generated":{"line":1,"column":415}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":418}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":422}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":424}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":110,"column":19},"generated":{"line":1,"column":426}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":112,"column":10},"generated":{"line":1,"column":433}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":112,"column":10},"generated":{"line":1,"column":440}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":113,"column":9},"generated":{"line":1,"column":443}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":113,"column":9},"generated":{"line":1,"column":448}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":1,"column":450}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":1,"column":457}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":114,"column":43},"generated":{"line":1,"column":466}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":114,"column":58},"generated":{"line":1,"column":468}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":115,"column":14},"generated":{"line":1,"column":471}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":115,"column":14},"generated":{"line":1,"column":475}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":115,"column":28},"generated":{"line":1,"column":477}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":115,"column":32},"generated":{"line":1,"column":479}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":500}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":503}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":116,"column":25},"generated":{"line":1,"column":505}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":117,"column":16},"generated":{"line":1,"column":506}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":117,"column":16},"generated":{"line":1,"column":510}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":117,"column":23},"generated":{"line":1,"column":512}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":117,"column":35},"generated":{"line":1,"column":514}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":117,"column":46},"generated":{"line":1,"column":525}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":118,"column":12},"generated":{"line":1,"column":526}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":118,"column":25},"generated":{"line":1,"column":538}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":118,"column":28},"generated":{"line":1,"column":540}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":119,"column":12},"generated":{"line":1,"column":545}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":119,"column":16},"generated":{"line":1,"column":548}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":563}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":121,"column":14},"generated":{"line":1,"column":565}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":570}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":121,"column":29},"generated":{"line":1,"column":579}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":122,"column":12},"generated":{"line":1,"column":590}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":122,"column":17},"generated":{"line":1,"column":592}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":603}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":610}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":126,"column":18},"generated":{"line":1,"column":612}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":126,"column":24},"generated":{"line":1,"column":618}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":1,"column":623}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":129,"column":9},"generated":{"line":1,"column":635}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":129,"column":9},"generated":{"line":1,"column":640}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":130,"column":13},"generated":{"line":1,"column":642}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":130,"column":13},"generated":{"line":1,"column":649}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":658}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":1,"column":660}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":662}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":136,"column":14},"generated":{"line":1,"column":665}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":136,"column":14},"generated":{"line":1,"column":669}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":671}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":136,"column":32},"generated":{"line":1,"column":673}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":137,"column":14},"generated":{"line":1,"column":694}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":138,"column":10},"generated":{"line":1,"column":696}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":139,"column":10},"generated":{"line":1,"column":699}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":139,"column":22},"generated":{"line":1,"column":701}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":139,"column":33},"generated":{"line":1,"column":712}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":140,"column":12},"generated":{"line":1,"column":713}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":140,"column":25},"generated":{"line":1,"column":725}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":140,"column":28},"generated":{"line":1,"column":727}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":141,"column":12},"generated":{"line":1,"column":732}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":141,"column":16},"generated":{"line":1,"column":735}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":8},"generated":{"line":1,"column":750}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":11},"generated":{"line":1,"column":752}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":16},"generated":{"line":1,"column":757}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":22},"generated":{"line":1,"column":762}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":27},"generated":{"line":1,"column":764}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":143,"column":32},"generated":{"line":1,"column":766}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":1,"column":777}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":144,"column":14},"generated":{"line":1,"column":784}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":145,"column":12},"generated":{"line":1,"column":787}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":145,"column":17},"generated":{"line":1,"column":789}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":1,"column":798}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":148,"column":22},"generated":{"line":1,"column":800}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":148,"column":28},"generated":{"line":1,"column":806}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":148,"column":34},"generated":{"line":1,"column":811}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":152,"column":9},"generated":{"line":1,"column":825}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":152,"column":9},"generated":{"line":1,"column":830}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":153,"column":13},"generated":{"line":1,"column":832}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":153,"column":13},"generated":{"line":1,"column":839}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":848}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":1,"column":850}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":852}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":1,"column":854}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":160,"column":14},"generated":{"line":1,"column":857}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":160,"column":14},"generated":{"line":1,"column":861}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":160,"column":28},"generated":{"line":1,"column":863}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":160,"column":32},"generated":{"line":1,"column":865}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":161,"column":14},"generated":{"line":1,"column":886}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":162,"column":10},"generated":{"line":1,"column":888}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":163,"column":10},"generated":{"line":1,"column":891}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":163,"column":22},"generated":{"line":1,"column":893}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":163,"column":33},"generated":{"line":1,"column":904}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":164,"column":12},"generated":{"line":1,"column":905}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":164,"column":25},"generated":{"line":1,"column":917}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":164,"column":28},"generated":{"line":1,"column":919}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":165,"column":12},"generated":{"line":1,"column":924}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":165,"column":16},"generated":{"line":1,"column":927}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":942}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":11},"generated":{"line":1,"column":944}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":16},"generated":{"line":1,"column":949}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":22},"generated":{"line":1,"column":954}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":27},"generated":{"line":1,"column":956}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":32},"generated":{"line":1,"column":958}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":167,"column":37},"generated":{"line":1,"column":960}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":172,"column":17},"generated":{"line":1,"column":971}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":168,"column":14},"generated":{"line":1,"column":978}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":1,"column":981}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":169,"column":17},"generated":{"line":1,"column":983}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":172,"column":17},"generated":{"line":1,"column":992}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":172,"column":22},"generated":{"line":1,"column":994}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":172,"column":28},"generated":{"line":1,"column":1000}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":172,"column":34},"generated":{"line":1,"column":1005}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":176,"column":4},"generated":{"line":1,"column":1019}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":177,"column":12},"generated":{"line":1,"column":1027}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":177,"column":12},"generated":{"line":1,"column":1033}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":177,"column":16},"generated":{"line":1,"column":1037}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":177,"column":22},"generated":{"line":1,"column":1043}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":177,"column":70},"generated":{"line":1,"column":1091}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":192,"column":0},"generated":{"line":1,"column":1095}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":192,"column":9},"generated":{"line":1,"column":1104}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":192,"column":21},"generated":{"line":1,"column":1106}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":9},"generated":{"line":1,"column":1109}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":9},"generated":{"line":1,"column":1116}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":15},"generated":{"line":1,"column":1122}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":20},"generated":{"line":1,"column":1127}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":26},"generated":{"line":1,"column":1130}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":30},"generated":{"line":1,"column":1134}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":193,"column":31},"generated":{"line":1,"column":1143}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":194,"column":8},"generated":{"line":1,"column":1146}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":194,"column":23},"generated":{"line":1,"column":1152}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":194,"column":15},"generated":{"line":1,"column":1171}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":195,"column":13},"generated":{"line":1,"column":1173}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":195,"column":18},"generated":{"line":1,"column":1175}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":198,"column":8},"generated":{"line":1,"column":1178}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":198,"column":14},"generated":{"line":1,"column":1184}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":198,"column":22},"generated":{"line":1,"column":1192}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":199,"column":13},"generated":{"line":1,"column":1195}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":199,"column":17},"generated":{"line":1,"column":1197}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":199,"column":21},"generated":{"line":1,"column":1201}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":199,"column":22},"generated":{"line":1,"column":1210}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":200,"column":12},"generated":{"line":1,"column":1213}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":200,"column":25},"generated":{"line":1,"column":1219}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":200,"column":19},"generated":{"line":1,"column":1238}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":201,"column":17},"generated":{"line":1,"column":1240}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":201,"column":22},"generated":{"line":1,"column":1242}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":203,"column":15},"generated":{"line":1,"column":1245}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":207,"column":11},"generated":{"line":1,"column":1249}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":214,"column":0},"generated":{"line":1,"column":1253}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":214,"column":9},"generated":{"line":1,"column":1262}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":214,"column":25},"generated":{"line":1,"column":1264}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":214,"column":43},"generated":{"line":1,"column":1266}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":215,"column":8},"generated":{"line":1,"column":1269}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":215,"column":8},"generated":{"line":1,"column":1273}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":215,"column":30},"generated":{"line":1,"column":1275}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":215,"column":34},"generated":{"line":1,"column":1277}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":222,"column":9},"generated":{"line":1,"column":1280}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":217,"column":2},"generated":{"line":1,"column":1287}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":217,"column":6},"generated":{"line":1,"column":1289}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":217,"column":16},"generated":{"line":1,"column":1292}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":11},"generated":{"line":1,"column":1303}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":11},"generated":{"line":1,"column":1310}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":31},"generated":{"line":1,"column":1312}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":37},"generated":{"line":1,"column":1318}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":43},"generated":{"line":1,"column":1323}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":219,"column":55},"generated":{"line":1,"column":1325}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":222,"column":9},"generated":{"line":1,"column":1338}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":228,"column":0},"generated":{"line":1,"column":1340}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":228,"column":9},"generated":{"line":1,"column":1349}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":228,"column":31},"generated":{"line":1,"column":1351}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":229,"column":2},"generated":{"line":1,"column":1354}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":229,"column":18},"generated":{"line":1,"column":1356}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":229,"column":23},"generated":{"line":1,"column":1358}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":0},"generated":{"line":1,"column":1365}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":9},"generated":{"line":1,"column":1374}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":26},"generated":{"line":1,"column":1376}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":44},"generated":{"line":1,"column":1378}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":44},"generated":{"line":1,"column":1386}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":44},"generated":{"line":1,"column":1390}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":44},"generated":{"line":1,"column":1394}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":235,"column":44},"generated":{"line":1,"column":1396}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":236,"column":2},"generated":{"line":1,"column":1400}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":236,"column":10},"generated":{"line":1,"column":1402}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":236,"column":18},"generated":{"line":1,"column":1410}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":236,"column":27},"generated":{"line":1,"column":1419}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":1422}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":237,"column":20},"generated":{"line":1,"column":1424}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":237,"column":25},"generated":{"line":1,"column":1426}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":1431}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":1439}},{"source":"../../src/integrations/express.ts","name":null,"original":{"line":239,"column":1},"generated":{"line":1,"column":1447}}],"sources":{"../../src/integrations/express.ts":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Integration, Transaction } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\n// Have to manually set types because we are using package-alias\ntype Method =\n  | 'all'\n  | 'get'\n  | 'post'\n  | 'put'\n  | 'delete'\n  | 'patch'\n  | 'options'\n  | 'head'\n  | 'checkout'\n  | 'copy'\n  | 'lock'\n  | 'merge'\n  | 'mkactivity'\n  | 'mkcol'\n  | 'move'\n  | 'm-search'\n  | 'notify'\n  | 'purge'\n  | 'report'\n  | 'search'\n  | 'subscribe'\n  | 'trace'\n  | 'unlock'\n  | 'unsubscribe';\n\ntype Application = {\n  [method in Method | 'use']: (...args: any) => any;\n};\n\ntype ErrorRequestHandler = (...args: any) => any;\ntype RequestHandler = (...args: any) => any;\ntype NextFunction = (...args: any) => any;\n\ninterface Response {\n  once(name: string, callback: () => void): void;\n}\n\n/**\n * Internal helper for `__sentry_transaction`\n * @hidden\n */\ninterface SentryTracingResponse {\n  __sentry_transaction?: Transaction;\n}\n\n/**\n * Express integration\n *\n * Provides an request and error handler for Express framework\n * as well as tracing capabilities\n */\nexport class Express implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Express';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Express.id;\n\n  /**\n   * Express App instance\n   */\n  private readonly _app?: Application;\n  private readonly _methods?: Method[];\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { app?: Application; methods?: Method[] } = {}) {\n    this._app = options.app;\n    this._methods = options.methods;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    if (!this._app) {\n      logger.error('ExpressIntegration is missing an Express instance');\n      return;\n    }\n    instrumentMiddlewares(this._app);\n    routeMiddlewares(this._app, this._methods);\n  }\n}\n\n/**\n * Wraps original middleware function in a tracing call, which stores the info about the call as a span,\n * and finishes it once the middleware is done invoking.\n *\n * Express middlewares have 3 various forms, thus we have to take care of all of them:\n * // sync\n * app.use(function (req, res) { ... })\n * // async\n * app.use(function (req, res, next) { ... })\n * // error handler\n * app.use(function (err, req, res, next) { ... })\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction wrap(fn: Function): RequestHandler | ErrorRequestHandler {\n  const arity = fn.length;\n\n  switch (arity) {\n    case 2: {\n      return function(this: NodeJS.Global, _req: Request, res: Response & SentryTracingResponse): any {\n        const transaction = res.__sentry_transaction;\n        if (transaction) {\n          const span = transaction.startChild({\n            description: fn.name,\n            op: 'middleware',\n          });\n          res.once('finish', () => {\n            span.finish();\n          });\n        }\n        // eslint-disable-next-line prefer-rest-params\n        return fn.apply(this, arguments);\n      };\n    }\n    case 3: {\n      return function(\n        this: NodeJS.Global,\n        req: Request,\n        res: Response & SentryTracingResponse,\n        next: NextFunction,\n      ): any {\n        const transaction = res.__sentry_transaction;\n        const span =\n          transaction &&\n          transaction.startChild({\n            description: fn.name,\n            op: 'middleware',\n          });\n        fn.call(this, req, res, function(this: NodeJS.Global): any {\n          if (span) {\n            span.finish();\n          }\n          // eslint-disable-next-line prefer-rest-params\n          return next.apply(this, arguments);\n        });\n      };\n    }\n    case 4: {\n      return function(\n        this: NodeJS.Global,\n        err: any,\n        req: Request,\n        res: Response & SentryTracingResponse,\n        next: NextFunction,\n      ): any {\n        const transaction = res.__sentry_transaction;\n        const span =\n          transaction &&\n          transaction.startChild({\n            description: fn.name,\n            op: 'middleware',\n          });\n        fn.call(this, err, req, res, function(this: NodeJS.Global): any {\n          if (span) {\n            span.finish();\n          }\n          // eslint-disable-next-line prefer-rest-params\n          return next.apply(this, arguments);\n        });\n      };\n    }\n    default: {\n      throw new Error(`Express middleware takes 2-4 arguments. Got: ${arity}`);\n    }\n  }\n}\n\n/**\n * Takes all the function arguments passed to the original `app.use` call\n * and wraps every function, as well as array of functions with a call to our `wrap` method.\n * We have to take care of the arrays as well as iterate over all of the arguments,\n * as `app.use` can accept middlewares in few various forms.\n *\n * app.use([<path>], <fn>)\n * app.use([<path>], <fn>, ...<fn>)\n * app.use([<path>], ...<fn>[])\n */\nfunction wrapUseArgs(args: IArguments): unknown[] {\n  return Array.from(args).map((arg: unknown) => {\n    if (typeof arg === 'function') {\n      return wrap(arg);\n    }\n\n    if (Array.isArray(arg)) {\n      return arg.map((a: unknown) => {\n        if (typeof a === 'function') {\n          return wrap(a);\n        }\n        return a;\n      });\n    }\n\n    return arg;\n  });\n}\n\n/**\n * Patches original App to utilize our tracing functionality\n */\nfunction patchMiddleware(app: Application, method: Method | 'use'): Application {\n  const originalAppCallback = app[method];\n\n  app[method] = function(): any {\n    // eslint-disable-next-line prefer-rest-params\n    return originalAppCallback.apply(this, wrapUseArgs(arguments));\n  };\n\n  return app;\n}\n\n/**\n * Patches original app.use\n */\nfunction instrumentMiddlewares(app: Application): void {\n  patchMiddleware(app, 'use');\n}\n\n/**\n * Patches original app.METHOD\n */\nfunction routeMiddlewares(app: Application, methods: Method[] = []): void {\n  methods.forEach(function(method: Method) {\n    patchMiddleware(app, method);\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"df8129da95c7f49869efc130052449fd","cacheData":{"env":{}}}